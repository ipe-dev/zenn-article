---
title: "ã€Goã€‘Handle?Handler?HandlerFunc?HandleFunc?ã‚„ã‚„ã“ã—ã„ã®ã§ã¾ã¨ã‚ã¦ã¿ãŸ"
emoji: "ğŸ—‚"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: [Golang]
published: false
---
# ã“ã‚Œã¯ä½•
Goã®httpãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¤ã„ã¦å‹‰å¼·ã—ã¦ã„ãŸã¨ãã®ã“ã¨ã€‚
**ã€ŒHandleã€Handlerã€HandlerFuncã€HandleFuncã£ã¦åå‰ã‚„ã‚„ã“ã—ã™ãã‚“ï¼Ÿä½•ãŒé•ã†ã®ï¼Ÿã€** ã¨æ€ã£ãŸã®ã§ãã‚Œãã‚Œã®é•ã„ã‚’ã¾ã¨ã‚ãŸã‚‚ã®ã§ã™ã€‚
# ã“ã®è¨˜äº‹ã®ã‚´ãƒ¼ãƒ«
- Handleã€Handlerã€HandlerFuncã€HandleFuncã®é•ã„ã‚’ç†è§£ã™ã‚‹ã€‚
# çµè«–
- HandleFuncã¯ãƒ‘ã‚¹ã¨`func(ResponseWriter, *Request)`ã‚’é–¢é€£ã¥ã‘ã¦ã„ã‚‹ã€‚
- Handlerã¯`HTTPServe(ResponseWriter, *Request)`ã‚’æŒã¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚
- HandlerFuncã¯`func(ResponseWriter, *Request)`ã‚’è¡¨ã™å‹ã§Handlerã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã€‚
- Handleã¯ãƒ‘ã‚¹ã¨`Handlerã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹`ã‚’é–¢é€£ã¥ã‘ã¦ã„ã‚‹ã€‚
# HandleFunc
HandleFuncã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
```go
http.HandleFunc("/HandleFunc", func(w http.ResponseWriter, r *http.Request) {
	fmt.Fprintf(w, "handle func")
})
```
ç¬¬ä¸€å¼•æ•°ã«ãƒ‘ã‚¹ã€ç¬¬äºŒå¼•æ•°ã«`func(w http.ResponseWriter, r *http.Request)`ã®ã‚·ã‚°ãƒãƒãƒ£ã‚’æŒã¤é–¢æ•°ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚
ã¾ãŸã€ã‚·ã‚°ãƒãƒãƒ£ãŒåŒã˜ã§ã‚ã‚Œã°é–¢æ•°ã‚’æ¸¡ã™ã“ã¨ã‚‚å¯èƒ½ã§ã™ã€‚
```go
func hoge(w http.ResponseWriter, r *http.Request) {
	fmt.Fprintf(w, "handle func")
}
func main() {
    http.HandleFunc("/HandleFunc, hoge)
}
```
ä»¥ä¸‹ã¯httpãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«å®Ÿè£…ã•ã‚Œã¦ã„ã‚‹HandleFuncé–¢æ•°ã§ã™ã€‚
```go
func HandleFunc(pattern string, handler func(ResponseWriter, *Request)) {
	DefaultServeMux.HandleFunc(pattern, handler)
}
```
ãƒ‘ã‚¹ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ãƒãƒ³ãƒ‰ãƒ©ã‚’å—ã‘å–ã£ã¦`ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µ`ã«ç™»éŒ²ã—ã¾ã™ã€‚
ã“ã‚Œã«ã‚ˆã‚Šãƒ‘ã‚¹ã¨ãƒãƒ³ãƒ‰ãƒ©ãŒé–¢é€£ã¥ã‘ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚
# HandlerFunc
HandleFuncã«ä¼¼ãŸåå‰ã®ã‚‚ã®ã«`HandlerFunc`ãŒã‚ã‚Šã¾ã™ã€‚
ã“ã‚Œã®å®Ÿè£…ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚
```go
type HandlerFunc func(ResponseWriter, *Request)

// ServeHTTP calls f(w, r).
func (f HandlerFunc) ServeHTTP(w ResponseWriter, r *Request) {
	f(w, r)
}
```
HandleFuncã¯é–¢æ•°ã ã£ãŸã®ã«å¯¾ã—ã€`HandlerFunc`ã¯å‹ã§ã™ã€‚
ã‚ˆãè€ƒãˆã¦ã¿ã‚Œã°ã€Handleã¨ã„ã†**å‹•è©**ã¨Handlerã¨ã„ã†**åè©**ãªã®ã§å“è©ã§åŒºåˆ¥ã™ã‚‹ã¨ã‚ã‹ã‚Šã‚„ã™ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
ã¾ãŸã€`ServeHTTP`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã—ã¦ã„ã‚‹ã®ã§ã€`Handlerã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹`ï¼ˆå¾Œè¿°ï¼‰ã‚’æº€ãŸã—ã¦ã„ã¾ã™ã€‚
`ServeHTTP`ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã¨è‡ªèº«ã®é–¢æ•°ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
# Handler 
æ¬¡ã«`Handler`ã§ã™ãŒã€ã“ã‚Œã¯ServeHTTPãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¤ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§ã™ã€‚
å…ˆã»ã©ã®HandlerFuncãŒã“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æº€ãŸã—ã¦ã„ã¾ã—ãŸã€‚
```go
type Handler interface {
	ServeHTTP(ResponseWriter, *Request)
}
```
# Handle
æœ€å¾Œã«`Handle`ã‚’è¦‹ã¦ã¿ã¾ã™ã€‚
```go
func Handle(pattern string, handler Handler) { DefaultServeMux.Handle(pattern, handler) }
```
Handleã¯ç¬¬äºŒå¼•æ•°ã«`Handlerã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹`ã‚’å–ã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
å®Ÿè£…ã®å†…å®¹ã¨ã—ã¦ã¯ãƒãƒ«ãƒãƒ—ãƒ¬ã‚¯ã‚µã«ãƒ‘ã‚¹ã¨handlerã‚’æ¸¡ã—ã€åŒæ–¹ã‚’é–¢é€£ã¥ã‘ã¦ã„ã¾ã™ã€‚
ã‚„ã£ã¦ã„ã‚‹ã“ã¨ã¯`HandleFunc`ã¨åŒã˜ã§ã™ã­ã€‚
é•ã„ã¯ã€HandleãŒ`Handlerã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹`ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã«å¯¾ã—ã€HandleFuncã¯`func(ResponseWriter, *Request)`ã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã„ã†ç‚¹ã§ã™ã€‚
# å®Ÿéš›ã®ä½¿ã„æ–¹
## HandleFunc
```go
http.HandleFunc("/HandleFunc", func(w http.ResponseWriter, r *http.Request) {
	fmt.Fprintf(w, "handle func")
})
```